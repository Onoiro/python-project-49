# Документация проекта Brain Games

## Обзор проекта

**Brain Games** — это набор CLI-игр для развития мозговой активности и улучшения навыков ментального счета. Проект представляет собой коллекцию из пяти математических игр, каждая из которых тренирует различные аспекты логического мышления и вычислительных навыков.

### Архитектура проекта

Проект построен на Python с использованием современных инструментов разработки:
- **Poetry** — для управления зависимостями и сборки пакета
- **Flake8** — для линтинга кода
- **Pytest** — для тестирования
- **Prompt** — библиотека для интерактивного ввода

### Входящие в набор игры

1. **brain-even** — определение четности числа
2. **brain-calc** — вычисление результата арифметического выражения
3. **brain-gcd** — поиск наибольшего общего делителя
4. **brain-progression** — поиск пропущенного числа в арифметической прогрессии
5. **brain-prime** — определение простоты числа

## Технические требования

### Системные требования
- Linux или MacOS
- Python 3.8 и выше
- Poetry 1.2.2 и выше
- Pip 22.2.1 и выше

### Зависимости
- **prompt** (0.4.1) — библиотека для пользовательского ввода
- **flake8** (5.0.4) — линтинг (только для разработки)

## Сборка и установка

### Установка проекта
```bash
make install
```

Команда выполняет:
1. `poetry install` — устанавливает зависимости
2. `poetry build` — собирает пакет
3. `python3 -m pip install --force-reinstall --user dist/*.whl` — устанавливает собранный пакет
4. `poetry publish --dry-run` — тестирует публикацию

### Удаление проекта
```bash
make uninstall
```

Команда выполняет:
1. `python3 -m pip uninstall -y hexlet-code` — удаляет пакет
2. `rm -rf ../python-project-49/` — очищает директорию проекта

### Линтинг кода
```bash
make lint
```
Выполняет проверку кода с помощью flake8.

## Запуск игр

После установки доступны следующие команды:

### Основной запуск
```bash
brain-games
```
Запускает приветственный экран с запросом имени пользователя.

### Запуск конкретных игр
```bash
brain-even      # Игра "Четное ли число?"
brain-calc      # Игра "Вычислить результат выражения"
brain-gcd       # Игра "Наибольший общий делитель"
brain-progression # Игра "Пропущенное число в прогрессии"
brain-prime     # Игра "Простое ли число?"
```

### Запуск через Poetry
```bash
poetry run brain-games
```

## Структура проекта

### Основные директории
- `/brain_games/` — основной пакет Python
- `/brain_games/games/` — модули игр
- `/brain_games/scripts/` — скрипты для запуска игр
- `/dist/` — собранные пакеты (wheel файлы)

### Ключевые файлы
- `pyproject.toml` — конфигурация Poetry и зависимостей
- `Makefile` — автоматизация сборки и установки
- `setup.cfg` — конфигурация инструментов разработки
- `poetry.lock` — зафиксированные версии зависимостей

### Архитектура кода

#### Основные модули
- `cli.py` — функции для работы с пользователем (приветствие)
- `game_play.py` — общий движок для запуска игр
- `__init__.py` — инициализация пакета

#### Игровые модули (games/)
Каждая игра реализует единый интерфейс:
- `TASK` — описание задачи для игрока
- `build_task()` — генерация нового задания и правильного ответа

#### Скрипты запуска (scripts/)
Каждый скрипт предоставляет точку входа для соответствующей игры через Poetry scripts.

## Правила разработки

### Стиль кодирования
- Соблюдение PEP 8
- Максимальная сложность функций — 6 (настройка flake8)
- Максимальная длина строки — 80 символов
- Использование UTF-8 кодировки

### Тестирование
- Тесты должны быть размещены с префиксом `test_`
- Используется pytest с настройками из setup.cfg
- Включен branch coverage

### Импорты
- Автоматическая сортировка импортов с помощью isort
- Многострочный вывод с trailing comma
- Группировка по секциям (standard library, third party, local)

### Документация
- Используется README.md в формате Markdown
- Включены видео-демонстрации каждой игры
- Добавлены бейджи для CI/CD и качества кода

## Игровая механика

### Общий цикл игры
1. Приветствие пользователя и запрос имени
2. Объяснение правил игры
3. Генерация задания
4. Получение ответа от пользователя
5. Проверка правильности ответа
6. Продолжение до 3 правильных ответов подряд

### Система очков
- Игрок должен дать 3 правильных ответа подряд для победы
- При неправильном отвесе счетчик сбрасывается
- После каждого правильного ответа выводится подтверждение

## Инструменты разработки

### Настроенные проверки
- **Flake8** — проверка стиля кода и потенциальных ошибок
- **Pytest** — автоматическое тестирование
- **Isort** — сортировка импортов

### CI/CD
- Настроен GitHub Actions для автоматических проверок
- Используется Hexlet Check для валидации
- CodeClimate для анализа качества кода

## Контрибьюция

Для внесения изменений:
1. Соблюдайте установленные правила кодирования
2. Запускайте `make lint` перед коммитом
3. Добавляйте тесты для новой функциональности
4. Обновляйте документацию при необходимости

## Лицензия и авторство

- **Автор:** Andrey Bogatyrev <t2way@yandex.ru>
- **Репозиторий:** https://github.com/Onoiro/python-project-49
- **Версия:** 0.7.5